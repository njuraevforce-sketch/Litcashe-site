// Advanced i18n RU/EN with attribute support
window.LC_I18N = (function(){
  const dict = {
  "en": {
    "nav_home": "Home",
    "nav_dashboard": "Dashboard",
    "nav_deposit": "Deposit",
    "nav_withdraw": "Withdraw",
    "nav_faq": "FAQ",
    "nav_settings": "Settings",
    "nav_login": "Login",
    "nav_register": "Register",
    "nav_logout": "Logout",
    "copy": "Copy",
    "copied": "Copied!",
    "save": "Save",
    "cancel": "Cancel",
    "yes": "Yes",
    "no": "No",
    "hero_title": "Earn USDT by watching short ads",
    "hero_sub": "Deposit 29 USDT to activate your account and start earning. 3-level referral rewards: 13% / 5% / 1%.",
    "get_started": "Get started",
    "learn_more": "Learn more",
    "preview_video": "Preview",
    "login_title": "Sign in",
    "register_title": "Sign up",
    "login_phone": "Phone",
    "login_email": "Email",
    "password": "Password",
    "password_repeat": "Repeat password",
    "btn_login": "Login",
    "btn_register": "Create account",
    "ph_phone": "+1 555 000 0000",
    "ph_email": "your@email.com",
    "ph_password": "Password",
    "ph_password_repeat": "Repeat password",
    "dash_title": "My dashboard",
    "balance": "Balance",
    "start": "Start",
    "views": "Views",
    "progress_to_pct": "Progress to next %",
    "per_view_reward": "Per-view reward",
    "base_cap": "Base cap",
    "next_target": "Next target",
    "referral_panel": "Referral panel",
    "gen1": "Level 1",
    "gen2": "Level 2",
    "gen3": "Level 3",
    "active_only": "Active only",
    "your_ref_link": "Your referral link",
    "not_active_warning": "Your account is not active. Deposit 29 USDT to unlock ads and earnings.",
    "views_left_today": "Views left today",
    "ref_income_title": "Referral income",
    "ref_income_l1": "Level 1 income",
    "ref_income_l2": "Level 2 income",
    "ref_income_l3": "Level 3 income",
    "ref_income_total": "Total referral income",
    "ref_recent_title": "Recent referral payouts",
    "ref_recent_time": "Time",
    "ref_recent_level": "Level",
    "ref_recent_amount": "Amount",
    "ref_recent_source": "Source",
    "indicator": "Indicator",
    "value": "Value",
    "comment": "Comment",
    "deposit_title": "Deposit USDT (TRC20)",
    "global_wallet": "Unified wallet (TRC20)",
    "how_to_deposit": "Send exactly 29 USDT or more to activate your account.",
    "amount": "Amount",
    "txid": "TXID (transaction hash)",
    "confirm_deposit": "Confirm deposit",
    "withdraw_title": "Withdraw USDT (TRC20)",
    "withdraw_amount": "Amount to withdraw",
    "withdraw_wallet": "Your TRC20 wallet",
    "submit_withdraw": "Submit withdrawal",
    "settings_title": "Settings",
    "change_password": "Change password",
    "interface_language": "Interface language",
    "save_settings": "Save settings",
    "faq_title": "FAQ",
    "dashboard_nav": "Dashboard",
    "dep_amount_placeholder": "Amount, USDT",
    "dep_notice": "Send USDT to the wallet and paste TXID to confirm.",
    "dep_submit_button": "Confirm deposit",
    "dep_txid_placeholder": "TXID (transaction hash)",
    "deposit_nav": "Deposit",
    "earnings_heading": "Earnings",
    "faq_nav": "FAQ",
    "home_nav": "Home",
    "kpi_apr": "Potential APR",
    "kpi_payouts": "Total payouts",
    "kpi_users": "Active users",
    "settings_nav": "Settings",
    "withdraw_amount_placeholder": "Amount, USDT",
    "withdraw_nav": "Withdraw",
    "withdraw_notice": "Withdrawals are processed automatically after review.",
    "withdraw_submit_button": "Request withdrawal",
    "withdraw_wallet_placeholder": "Your USDT wallet"
  },
  "ru": {
    "nav_home": "Главная",
    "nav_dashboard": "Личный кабинет",
    "nav_deposit": "Пополнение",
    "nav_withdraw": "Вывод",
    "nav_faq": "FAQ",
    "nav_settings": "Настройки",
    "nav_login": "Вход",
    "nav_register": "Регистрация",
    "nav_logout": "Выйти",
    "copy": "Копировать",
    "copied": "Скопировано!",
    "save": "Сохранить",
    "cancel": "Отмена",
    "yes": "Да",
    "no": "Нет",
    "hero_title": "Зарабатывайте USDT за просмотр короткой рекламы",
    "hero_sub": "Пополните на 29 USDT, чтобы активировать аккаунт и начать зарабатывать. Рефералы 3 уровней: 13% / 5% / 1%.",
    "get_started": "Начать",
    "learn_more": "Подробнее",
    "preview_video": "Превью",
    "login_title": "Вход",
    "register_title": "Регистрация",
    "login_phone": "Телефон",
    "login_email": "Email",
    "password": "Пароль",
    "password_repeat": "Повторите пароль",
    "btn_login": "Войти",
    "btn_register": "Создать аккаунт",
    "ph_phone": "+998 90 000 00 00",
    "ph_email": "you@email.com",
    "ph_password": "Пароль",
    "ph_password_repeat": "Повторите пароль",
    "dash_title": "Мой кабинет",
    "balance": "Баланс",
    "start": "Старт",
    "views": "Просмотры",
    "progress_to_pct": "Прогресс к следующему %",
    "per_view_reward": "Награда за просмотр",
    "base_cap": "Базовый лимит",
    "next_target": "Следующая цель",
    "referral_panel": "Реферальная панель",
    "gen1": "1 поколение",
    "gen2": "2 поколение",
    "gen3": "3 поколение",
    "active_only": "Только активные",
    "your_ref_link": "Ваша реферальная ссылка",
    "not_active_warning": "Аккаунт не активен. Пополните на 29 USDT, чтобы открыть доступ к рекламе и заработку.",
    "views_left_today": "Просмотров осталось сегодня",
    "ref_income_title": "Реферальный доход",
    "ref_income_l1": "Доход 1 уровень",
    "ref_income_l2": "Доход 2 уровень",
    "ref_income_l3": "Доход 3 уровень",
    "ref_income_total": "Итого реферальный доход",
    "ref_recent_title": "Последние реферальные начисления",
    "ref_recent_time": "Время",
    "ref_recent_level": "Уровень",
    "ref_recent_amount": "Сумма",
    "ref_recent_source": "Источник",
    "indicator": "Показатель",
    "value": "Значение",
    "comment": "Комментарий",
    "deposit_title": "Пополнение USDT (TRC20)",
    "global_wallet": "Единый кошелёк (TRC20)",
    "how_to_deposit": "Отправьте ровно 29 USDT или больше для активации аккаунта.",
    "amount": "Сумма",
    "txid": "TXID (хеш транзакции)",
    "confirm_deposit": "Подтвердить пополнение",
    "withdraw_title": "Вывод USDT (TRC20)",
    "withdraw_amount": "Сумма к выводу",
    "withdraw_wallet": "Ваш TRC20-кошелёк",
    "submit_withdraw": "Отправить заявку",
    "settings_title": "Настройки",
    "change_password": "Сменить пароль",
    "interface_language": "Язык интерфейса",
    "save_settings": "Сохранить",
    "faq_title": "FAQ",
    "dashboard_nav": "Личный кабинет",
    "dep_amount_placeholder": "Сумма, USDT",
    "dep_notice": "Отправьте USDT на кошелёк и вставьте TXID для подтверждения.",
    "dep_submit_button": "Подтвердить пополнение",
    "dep_txid_placeholder": "TXID (хеш транзакции)",
    "deposit_nav": "Пополнение",
    "earnings_heading": "Заработок",
    "faq_nav": "FAQ",
    "home_nav": "Главная",
    "kpi_apr": "Потенциальный APR",
    "kpi_payouts": "Всего выплат",
    "kpi_users": "Активные пользователи",
    "settings_nav": "Настройки",
    "withdraw_amount_placeholder": "Сумма, USDT",
    "withdraw_nav": "Вывод",
    "withdraw_notice": "Выводы обрабатываются автоматически после проверки.",
    "withdraw_submit_button": "Запросить вывод",
    "withdraw_wallet_placeholder": "Ваш USDT-кошелёк"
  }
};

  return {
    t(key){ const L = (localStorage.getItem('lc_lang')||'ru'); return (dict[L]&&dict[L][key])||dict['en'][key]||key; },
    apply(root=document){
      const L = (localStorage.getItem('lc_lang')||'ru');
      root.querySelectorAll('[data-i18n]').forEach(el=>{
        const k = el.getAttribute('data-i18n'); const v = (dict[L]&&dict[L][k])||dict['en'][k]||k; if(v!=null) el.textContent = v;
      });
      root.querySelectorAll('[data-i18n-attr]').forEach(el=>{
        const spec = el.getAttribute('data-i18n-attr');
        spec.split(',').forEach(pair=>{
          const [attr,k] = pair.split(':').map(s=>s.trim());
          const v = (dict[L]&&dict[L][k])||dict['en'][k]||k; if(attr&&v!=null) el.setAttribute(attr, v);
        });
      });
    },
    set(lang){ localStorage.setItem('lc_lang', lang); this.apply(); }
  };
})();
